{% extends 'main/layout.html' %}

{# override block title #}

{% block title %}
    Books-list
{% endblock %}

{# override body #}

{% block main-content %}

<div class="d-flex justify-content-center p-2  ">
    <div class="container-fluid">
<table class="table table-hover ">
 <thead class="bg-dark-subtle">
    <tr>
        <td> ID </td>
        <td> Name </td>
        <td> Price </td>
        <td> Description </td>
        <td> Actions </td>
    </tr>
 </thead>
 
 <tbody>
    {% for book in books_list%}
   <tr {% if book.price > 3 %} style="color:red" {% else %} style="color:green" {% endif %} >
    <td> {{ book.id }} </td>
    <td> {{ book.name }} </td>
    <td> {{ book.price }}$ </td>
    <td> {{ book.description | truncatewords:2  | title }} </td>
    
    <td> 
        <a class="btn btn-info" href="{% url 'bookstore:book-detail' book.id %}"> View</a>
        <a class="btn btn-success" href="{% url 'bookstore:book-update' book.id %}"> Update</a>
        <a class="btn btn-danger" href="{% url 'bookstore:book-delete' book.id %}"> Delete</a>
    </td>
   </tr>

   {% empty %}
   <tr>
    <td colspan="3" class="text-center"> sorry, no books in list</td>
   </tr>
{% endfor %}
 </tbody>

</table>
</div>
</div>
{% endblock %}